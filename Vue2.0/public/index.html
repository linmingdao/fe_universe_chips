<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- 提供数据映射的模板 -->
    <div id="app">{{name}}</div>
    <script src="../dist/vue.js"></script>
    <script>
      // vue mvvm框架，基于MVC升级来的，但vue没有严格遵循mvvm，因为传统的mvvm框架不能手动操作数据（vue提供的ref可以操作组件数据）
      // vue的核心：响应式数据原理
      // react v框架（view层的框架），功能是将数据转换成视图，没有绑定操作，更新数据也是手动调用setState

      // 响应式数据原理，vue2中采用defineProperty
      // 监控数据的变化，数据变化了更新视图，用户给数据赋值了就触发视图更新
      const vm = new Vue({
        el: '#app',
        // 提供映射视图的数据
        // 根实例为什么可以写成对象，组件实例写成函数
        data: {
          name: '小红',
          age: 12,
          address: '福州',
          n: { n: { n: 1 } },
          arr: [1, 2, 3],
        },
      });

      vm._data.arr.push(123); // vue只会劫持arr上的push方法，不会改变原生数组上的方法
      vm._data.arr.pop();
      vm._data.arr.push({ a: 1 }); // { a: 1 } 也需要变成响应式

      // const vm2 = new Vue({
      //   el: '#app',
      //   data: function () {
      //     return {
      //       name: '小红',
      //       age: 12,
      //       address: '福州',
      //     };
      //   },
      // });

      // vm.$options.name = '小明';
      // vm.name = '小明';
    </script>
  </body>
</html>
